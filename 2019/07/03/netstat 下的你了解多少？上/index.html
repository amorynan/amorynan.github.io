<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸Š | WelCome to amory's world!</title><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css"><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><link rel="icon" href="/favicon.ico"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#netstat-ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†-ä¸Š"><span class="toc-number">1.</span> <span class="toc-text">netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸Š</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1561376322195&amp;di=968ecdc60b194dac7a024a8e75182703&amp;imgtype=0&amp;src=http%3A%2F%2Fgss0.baidu.com%2F94o3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2F91529822720e0cf397cc85d40846f21fbe09aae2.jpg"></div><div class="author-info__name text-center">amory wang</div><div class="author-info__description text-center">hey ...</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">10</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">15</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container" style="background-image: url(true)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">WelCome to amory's world!</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸Š</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-03 </time></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><hr>
<h2 id="netstat-ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†-ä¸Š"><a href="#netstat-ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†-ä¸Š" class="headerlink" title="netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸Š"></a>netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸Š</h2><pre><code>å‰è¨€ï¼šå·¥ä½œä¸­ç»å¸¸çš„åœºæ™¯æœ‰ç”¨netstat -anp | grep : port è¿™æ ·çš„å‘½ä»¤å»æŸ¥è¯¢java é¡¹ç›®çš„è¿›ç¨‹å·ï¼Œ
ç„¶åkillï¼Œ nohup è¿›è¡Œé‡å¯ï¼Œä¹Ÿç»å¸¸ç”¨netstat -anp æŸ¥è¯¢å½“å‰linux çš„ç½‘ç»œçŠ¶æ€ï¼Œä½†æ˜¯å‘½ä»¤è¾“å…¥
åçš„ä¸‹é¢å‡ åˆ—å«ä¹‰äº†è§£å¤šå°‘ï¼Ÿ</code></pre><p>ä¸å¦‚æˆ‘ä»¬åœ¨Linux æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸€ä¸‹netstat -anpï¼ˆè¿™é‡Œæˆ‘æ˜¯æœ¬åœ°ssh äº†è¿œç¨‹ä¸€ä¸ªæµ‹è¯•æœè¿›è¡Œè¿æ¥çš„æŸ¥çœ‹ï¼‰</p>
<pre><code>Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name   
tcp        0      0 0.0.0.0:5672                0.0.0.0:*                   LISTEN      31968/beam.smp      
tcp        0      0 0.0.0.0:25672               0.0.0.0:*                   LISTEN      31968/beam.smp      
tcp        0      0 0.0.0.0:3306                0.0.0.0:*                   LISTEN      2231/mysqld         
tcp        0      0 127.0.0.1:6379              0.0.0.0:*                   LISTEN      27020/./redis-serve 
tcp        0      0 0.0.0.0:80                  0.0.0.0:*                   LISTEN      26376/nginx         
tcp        0      0 0.0.0.0:4369                0.0.0.0:*                   LISTEN      27315/epmd          
tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1539/sshd           
tcp        0      0 0.0.0.0:15672               0.0.0.0:*                   LISTEN      31968/beam.smp      
tcp        0      0 0.0.0.0:8888                0.0.0.0:*                   LISTEN      16252/java          
tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN      1702/master         
tcp        0      0 0.0.0.0:443                 0.0.0.0:*                   LISTEN      26376/nginx         
tcp        0      0 172.16.166.212:53860        100.100.45.158:80           ESTABLISHED 4542/aliyun_assist_ 
tcp        0     40 172.16.166.212:22           115.198.98.43:49606         ESTABLISHED 26768/sshd </code></pre><p>ä¸Šé¢çš„å‡ åˆ—å«ä¹‰å…¶å®åˆ—åå·²ç»åˆè§ç«¯å€ª</p>
<p>proto=ã€‹éµå¾ªçš„ç½‘ç»œåè®®æ ˆï¼Œ tcp or udp ï¼ˆè¿™ä¸¤ä¸ªåè®®ï¼Œä¹Ÿè¢«ç§°ä½œä¸ºåè®®æ ˆï¼Œä»linux çš„è§†è§’åˆ†æå…¶å®ä¸åŒæœåŠ¡åŒ…çš„é‡‡ç”¨ä¸åŒå¤„ç†è°ƒç”¨é“¾çš„æ–¹å¼ï¼‰ </p>
<p>Recv-Q Send-Q: æœ‰å®˜æ–¹çš„è§£é‡Š=ã€‹ mean receiving queue and sending queue. These should always be zero; if theyâ€™re not you might have a problem.æ„æ€ä¹Ÿå°±æ˜¯æ¥å—å’Œå‘é€â€œé˜Ÿåˆ—â€æ³¨æ„è¿™é‡Œæ˜¯æŒ‡çš„ä¸¤ä¸ªæœåŠ¡å™¨æˆ–è€…ä¸¤ä¸ªæ­£åœ¨å»ºç«‹è¿æ¥çš„è®¡ç®—æœºè£¸æœºæœåŠ¡ä¹‹é—´çš„é˜Ÿåˆ—å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œä¸ç„¶ä½ æŠŠlinux æˆ–è€…å…¶ä»–çš„æ“ä½œç³»ç»Ÿè½¯ä»¶æ”¾åœ¨äº†å“ªé‡Œï¼Ÿ æ­£è§£æ˜¯ä»ä¸€ä¸ªæœåŠ¡å™¨Açš„kernel ä¸­å‘é€é˜Ÿåˆ—ä¸­çš„å­—èŠ‚åŒ…ï¼Œé€šè¿‡ç½‘ç»œå¤§é“å‘é€åˆ°ä¸€ä¸ªæœåŠ¡å™¨Bçš„kernel æ¥å—é˜Ÿåˆ—çš„ä¸­ï¼Œç„¶åè¿™ä¸ªé˜Ÿåˆ—çš„çŠ¶æ€å€¼å°±æ˜¯è¿™ä¸¤åˆ—æ‰€ä»£è¡¨çš„å«ä¹‰ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæ­£å¸¸çš„çŠ¶å†µæ˜¯ä¸€ç›´ä¿æŒç€0 çš„çŠ¶æ€ï¼Œæ‰ä»£è¡¨kernel æ²¡æœ‰â€œç½¢å·¥â€ï¼Œæˆ–è€…æ­¤å‰çš„å·¥ä½œé‡æ˜¯åœ¨kernelçš„è´Ÿè·ä¸­å‘¢</p>
<p>ç”±æ­¤å¯è§ï¼š<br>Recv-Qï¼šè¡¨ç¤ºæ”¶åˆ°çš„æ•°æ®å·²ç»åœ¨æœ¬åœ°æ¥æ”¶ç¼“å†²ï¼Œä½†æ˜¯è¿˜æœ‰å¤šå°‘æ²¡æœ‰è¢«è¿›ç¨‹å–èµ°ï¼Œrecv()ï¼Œå¯ä»¥ç®€å•åˆ¤æ–­ç¨‹åºæ”¶åˆ°åŒ…æ˜¯å¦æ­£å¸¸ï¼Œ0æ”¶åˆ°åŒ…ï¼Œor æœ‰æ¯”è¾ƒå¤§çš„å€¼ï¼Œä»£è¡¨ç¨‹åºè¿˜æ²¡æœ‰å‡†å¤‡å¥½æ”¶åŒ…ï¼Œéœ€è¦å…·ä½“åŸå› çš„åˆ†æ</p>
<p>Send-Qï¼šå¯¹æ–¹æ²¡æœ‰æ”¶åˆ°çš„æ•°æ®æˆ–è€…è¯´æ²¡æœ‰Ackçš„,è¿˜æ˜¯æœ¬åœ°ç¼“å†²åŒº.</p>
<p>LocalArress Foreign Address =ã€‹</p>
<p> Local address is either your IP and port number, or IP and the name of a service. </p>
<p> â€œForeign addressâ€ is the hostname and service you are connected toï¼Œç›¸ä¿¡å¤§å®¶çš„è‹±æ–‡æ°´å¹³è¿˜æ˜¯å¯ä»¥ï¼Œæˆ‘å°±ä¸ç¿»è¯‘äº†ï¼Œä½†æ˜¯è§£é‡Šæ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬çœ‹ä¸€å“ˆå…·ä½“çš„åœºæ™¯å€¼ï¼Œå´å‘ç°ä¸ºå•¥æ˜¯è¿™ä¸ªå€¼ï¼Ÿ</p>
<p>æ‰€ä»¥æˆ‘ä»¬æ¥å…·ä½“åˆ†æå‡ ä¸ªï¼š</p>
<pre><code>tcp        0      0 0.0.0.0:3306                0.0.0.0:*                   LISTEN      2231/mysqld  </code></pre><p>é¦–å…ˆprotocal æ˜¯ tcp çš„åè®®æ ˆï¼Œ æœ¨æœ‰é—®é¢˜ï¼Œ rqï¼š0ï¼Œ sqï¼š0 æ²¡æœ‰é—®é¢˜ï¼Œè¯´æ˜è¿™ä¸ªè¿›ç¨‹çš„ç¨‹åºè¿è¡Œå¾ˆè‰¯å¥½å˜›ï¼ˆå…¶å®åé¢çš„proecss name å¯ä»¥çœ‹åˆ°è¿™å°±æ˜¯mysql çš„è¿›ç¨‹ï¼‰ï¼Œç„¶åçœ‹ä¸€ä¸‹local address and foreign address : local -ã€‹0.0.0.0:3306èƒ½ç†è§£å°±æ˜¯ä¸»æœºæœ¬èº«ip ,è¿™é‡Œä¸ç¦æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆæ˜¯0.0.0.0è€Œä¸æ˜¯127.0.0.1ï¼Ÿè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç„¶åæ˜¯foreign address</p>
<p><strong>é‚£ä¹ˆç¿»è¯‘è¿™ä¸€è¡Œçš„æ„æ€å°±æ˜¯kernel æ­£åœ¨ç›‘å¬è¿›ç¨‹å·æ˜¯2231çš„mysql æœåŠ¡ï¼Œåœ¨æœ¬æœºipçš„3306ç«¯å£èƒ½å¤Ÿæ¥å—ä»»ä½•æ¥è‡ªäºæœ¬æœºå¤–ç½‘ipæˆ–è€…å†…ç½‘ipçš„æ•°æ®åŒ…ï¼ŒåŒæ—¶ä¹Ÿèƒ½å‘é€åˆ°æœ¬æœºçš„ä»»ä½•ä¸€ä¸ªå…¶ä»–ç«¯å£çš„æœåŠ¡ï¼Œå¹¶ä¸”ç°åœ¨è¿è¡Œæ¯”è¾ƒè‰¯å¥½ï¼Œæ²¡å‡ºç°ä»€ä¹ˆæ•°æ®æ»ç•™æˆ–è€…å‘é€ä¸å‡ºå»çš„å¤§é—®é¢˜</strong></p>
<p>ä¸Šé¢çš„è§£é‡Šæåˆ°äº†å‡ ä¸ªå­—çœ¼ï¼šæœ¬æœºipï¼Œ å†…ç½‘ipï¼Œ æˆ–è€…å¤–ç½‘ipï¼Œä¸‹ç¯‡æˆ‘ä¼šè¯¦è§£ä¸€ç•ªï¼Œè¿™é‡Œå…ˆè¿›è¡Œè§£è¯»</p>
<p>å†æ¥çœ‹ä¸€ä¸ª</p>
<pre><code>tcp        0      0 127.0.0.1:6379              0.0.0.0:*                   LISTEN      27020/./redis-serve </code></pre><p>ç›¸ä¿¡å¤§å®¶ä¹Ÿå·²ç»èƒ½ä¾è‘«èŠ¦ç”»ç“¢çš„ç¿»è¯‘ğŸ‘†è¿™ä¸ªLinuxæƒ³è¦ä¼ è¾¾çš„ç½‘ç»œçŠ¶æ€ï¼Œä½†æˆ‘ä¸ç¦åˆæƒ³æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆæ˜¯ç›‘å¬ç€å›ç¯åœ°å€127.0.0.1 è¿™ä¸ªnetipï¼Ÿ</p>
<p>ç„¶åå†çœ‹ä¸€ä¸ª</p>
<pre><code>tcp        0      0 172.16.166.212:53860        100.100.45.158:80           ESTABLISHED 4542/aliyun_assist_ 
tcp        0     40 172.16.166.212:22           115.198.98.43:49606         ESTABLISHED 26768/sshd </code></pre><p>å…ˆçœ‹ç¬¬äºŒè¡Œï¼Œç¿»è¯‘å‡ºæ¥å°±æ˜¯ï¼Œkernel æ­£åœ¨ç›‘å¬è¿›ç¨‹å·æ˜¯26768çš„ssh æœåŠ¡ï¼ˆä¸€ä¸ªè¿œç¨‹è¿æ¥çš„æœåŠ¡ï¼‰ï¼Œåœ¨æœ¬æœºçš„å†…ç½‘IP=172.16.166.212çš„netip çš„ 22 ç«¯å£ä¸Šè¿›è¡Œæ”¶å–æ•°æ®åŒ…ï¼Œå¹¶ä¸”å’Œå¤–ç½‘ip=115.198.98.43 net ip çš„ 49606ç«¯å£çš„æœåŠ¡è¿›è¡Œå‘é€æ•°æ®åŒ…ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªæœåŠ¡åœ¨é€šè¯ä¸­ï¼Œå¹¶ä¸”sq æœ‰40byte çš„æ•°æ®å¾…ä»kernelå‘é€å‡ºå»ï¼Œå¯ä»¥æ¥å—ä¸€å®šç¨‹åº¦çš„ç¼“å­˜æ•°æ®ï¼Œåœ¨è¿™é‡Œåˆä¸ºä»€ä¹ˆæ˜¯172.16.166.212 è¿™ä¸ªIPï¼Ÿå†…ç½‘ipèƒ½å’Œä¸€ä¸ªå¤–ç½‘ipè¿›è¡Œäº¤æµï¼Ÿ<br>èƒ½çš„è¯æ€ä¹ˆäº¤æµçš„ï¼Ÿï¼</p>
<p><strong><em>å¦‚æœä¸Šé¢æå‡ºçš„åœºæ™¯ç°è±¡èƒ½è§£é‡Šå‡ºæ¥ï¼Œé‚£ä¹ˆè¯´æ˜å·²ç»å…¥é—¨â€œä¼šç”¨ç½‘ç»œå·¥ç¨‹å¸ˆâ€ï¼Œå¦‚æœä¸Šé¢æå‡ºçš„åœºæ™¯ç°è±¡çš„é—®é¢˜èƒ½è§£ç­”å‡ºæ¥ï¼Œé‚£ä¹ˆè¯´æ˜ä½ å·²ç»åœ¨ç”¨åˆ›é€ ç½‘ç»œçš„è§’åº¦æ€è€ƒé—®é¢˜äº†ï¼Œå¦‚æœè¿˜ä¸èƒ½æ€è€ƒå‡ºæ¥ï¼Œé‚£çœ‹æˆ‘ä¸‹ä¸€ç¯‡å§ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹åŸå§‹ç½‘ç»œä¸‹çš„çœŸé¢ç›®</em></strong></p>
</div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/è®¡ç®—æœºç½‘ç»œ/">è®¡ç®—æœºç½‘ç»œ</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/å‘½ä»¤/">å‘½ä»¤</a></div></article><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/07/05/netstat å‘½ä»¤ä¸‹çœ‹ä½ åˆ°åº•äº†è§£å¤šå°‘ç½‘ç»œçŸ¥è¯†ä¸‹/"><i class="fa fa-chevron-left">  </i><span>netstat ä¸‹æŸ¥çœ‹ä½ æŒæ¡å¤šå°‘ç½‘ç»œçŸ¥è¯†?ä¸­</span></a></div><div class="next-post pull-right"><a href="/2019/06/24/ä¸€æ¬¡redis çš„æ‰¹é‡å¯¼å…¥æ“ä½œ/"><span>ä¸€æ¬¡redis çš„æ‰¹é‡å¯¼å…¥æ•°æ®è®°å½•</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitment_title" class="gitment_title"></div>
<div id="container" style="display:none"></div>
<link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css">
<script src="https://jjeejj.github.io/js/gitment.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
  const myTheme = {
    render(state, instance) {
      const container = document.createElement('div');
      container.lang = "en-US";
      container.className = 'gitment-container gitment-root-container';
      container.appendChild(instance.renderHeader(state, instance));
      container.appendChild(instance.renderEditor(state, instance));
      container.appendChild(instance.renderComments(state, instance));
      container.appendChild(instance.renderFooter(state, instance));
      return container;
    }
  }

  function showGitment() {
    $("#gitment_title").attr("style", "display:none");
    $("#container").attr("style", "").addClass("gitment_container");
    var gitment = new Gitment({
      id: decodeURI(window.location.pathname),
      theme: myTheme,
      owner: 'amory',
      repo: 'https://github.com/amorynan/amorynan.github.io.git',
      oauth: {
        client_id: 'baa58bb278f2ebfa4b3e',
        client_secret: 'e3e57fa2e837dbfa516a480a6ddd78b9617bc91c'
      }
    });
    gitment.render('container');
  }

  showGitment();
</script>
</div></div><footer><div class="layout" id="footer"><div class="copyright">Â©2013 - 2019 By amory wang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span> |  </span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/fancybox.js"></script><script src="/js/sidebar.js"></script><script src="/js/copy.js"></script><script src="/js/fireworks.js"></script><script src="/js/transition.js"></script><script src="/js/scroll.js"></script><script src="/js/head.js"></script></body></html>